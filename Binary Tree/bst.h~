
#include <cstddef>
#include <iostream>
#ifndef BST_H
#define BST_H

template<class Item>
class bstNode
{
	public:
	//constructor
	bstNode(const Item& init_data, bstNode* init_left=NULL, bstNode* init_right= NULL)
		{
			data_field = init_data;
			left_field = init_left;
			right_field = init_right;
		}
	//helper functions if you need them ..
	//I think I haven't used any of them so far	
	//Item& get_data() {return data_field;}
	void set_data(Item& target) {data_field=target;}
	bstNode*& get_left() {return left_field;}
	bstNode*& get_right() {return right_field;}
	
	//FUNCTIONS YOU IMPLEMENT BELOW
	bool find(Item& targetData);
	void insert(Item& targetData);
	void remove(Item& targetData);
	int size();
	void traverse();
	
	//our private variables (we just have 3)
	private:
		Item data_field; //our data
		bstNode* left_field; //pointer to left child
		bstNode* right_field; //pointer to right child

};
//ALL OUR IMPLEMENTATIONS GO IN HERE-- NO .CPP FILE FOR BSTNODE BECUASE IT'S A TEMPLATE CLASS
template<class Item>
bool bstNode<Item>::find(Item& targetData)
{

  if(data_field == NULL){return false;}
  if(data_field == targetData){return true;}
if(left_field!=NULL){
   if(left_field->find(targetData)){
     return true;
   }
     else{
       left_field->find(targetData);
     }
}
if(right_field!=NULL){
     if(right_field->find(targetData)){
       return true;
     }
         else{
	   right_field->find(targetData);
	 }
 }



}

template<class Item>
void bstNode<Item>::insert(Item& targetData)
{

	if(targetData > data_field)
	{
		if ( right_field == NULL){
			right_field =new bstNode<Item>(targetData);
		}
		else{
			right_field->insert(targetData);
		}
	}
			
	if(targetData < data_field)
	{
		if ( left_field == NULL){
			left_field= new bstNode<Item>(targetData);
		}
		else{
			left_field->insert(targetData);
	}
	
}
}

template<class Item>
void bstNode<Item>::traverse()
{

	if(left_field !=NULL){
		left_field->traverse();
	}
	std::cout<<data_field<<std::endl;
	if(right_field !=NULL){
		right_field->traverse();
	}
}
template<class Item>
void bstNode<Item>::remove(Item& targetData)
{
	bstNode* changeNode;
		
	if(targetData > data_field)
	{
		if ( right_field== NULL ){
			if(left_field == NULL){
				targetData = left_field->data_field;
				delete left_field;
			}
			else{
				std::cout<<"moving left! "<<std::endl;
				left_field->remove(targetData);
			}
		}
			else{
			std::cout<<"moving right! "<<std::endl;
			right_field->remove(targetData);
			}

	}
}
			

template<class Item>
int bstNode<Item>::size()
{
	int count = 1;
	
	if(left_field !=NULL){
		count+=left_field->size();
	}
	if(right_field !=NULL){
		count+=right_field->size();
	}
	std::cout<<count<<std::endl;
	return count;
}
#endif
